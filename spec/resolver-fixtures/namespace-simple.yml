# Namespace prefixes records, unless they are absolute.
# The namespace can be applied to 'owner' as well.
policy: |
  - !group the-owner
  - !group "/root-owner"
  - !host 
    id: the-host
    owner: !group the-owner
  - !host 
    id: /second-host
    owner: !group /root-owner
  - !host 
    id: third-host
    owner: !host /$namespace/second-host

namespace: dev
  
expectation: |
  ---
  - !group
    account: the-account
    id: dev/the-owner
    owner: !role
      account: rspec
      id: default-owner
      kind: user
  - !group
    account: the-account
    id: root-owner
    owner: !role
      account: rspec
      id: default-owner
      kind: user
  - !host
    account: the-account
    id: dev/the-host
    owner: !group
      account: the-account
      id: dev/the-owner
  - !host
    account: the-account
    id: second-host
    owner: !group
      account: the-account
      id: root-owner
  - !host
    account: the-account
    id: dev/third-host
    owner: !host
      account: the-account
      id: dev/second-host
